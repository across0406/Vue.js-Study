<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <title>Calculator</title>
    </head>
    <body>
        <div id="calculator">
            <div id="expr-area">
                <strong>
                    {{ expr }}
                </strong>
            </div>

            <div id="input-button-area">
                <expr-button-item 
                    v-for="item in buttonList"
                    v-bind:expr-button="item"
                    v-bind:key="item.id"
                ></expr-button-item>
            </div>
        </div>

        <script>
            Vue.component('expr-button-item', {
                props: ['expr-button'],
                template: '<button v-on:click="exprInput(key)"></button>'
            })

            var calculator = new Vue({
                el: '#calculator',
                data: {
                    buttonList: [
                        { id: 0, text: '0' }, 
                        { id: 1, text: '1' }, 
                        { id: 2, text: '2' }, 
                        { id: 3, text: '3' }, 
                        { id: 4, text: '4' }, 
                        { id: 5, text: '5' }, 
                        { id: 6, text: '6' }, 
                        { id: 7, text: '7' }, 
                        { id: 8, text: '8' }, 
                        { id: 9, text: '9' }
                    ], 
                    expr: ''
                }, 
                methods: {
                    exprInput: function(key) {
                        if (buttonList[key].text !== 'X'){
                            expr += buttonList[key];
                        }
                        else{
                            if (expr.length > 1){
                                expr = expr.slice(0, expr.length);
                            }
                            else{
                                expr = '';
                            }
                        }
                    }
                }
            })
        </script>
    </body>
</html>